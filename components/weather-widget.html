<!-- å¤©æ°”å°éƒ¨ä»¶ç»„ä»¶ -->
<div class="weather-widget">
    <div class="weather-header">
        <h3 class="weather-title">ç›®çš„åœ°å¤©æ°”</h3>
        <div class="weather-location-selector">
            <select id="weather-location">
                <option value="meizhou">æ¢…å·</option>
                <option value="suzhou">è‹å·</option>
                <option value="chengdu">æˆéƒ½</option>
                <option value="beijing">åŒ—äº¬</option>
                <option value="shanghai">ä¸Šæµ·</option>
            </select>
        </div>
    </div>
    
    <div class="weather-content">
        <div class="weather-main">
            <div class="weather-icon">
                <i class="fas fa-cloud-sun"></i>
            </div>
            <div class="weather-info">
                <div class="weather-temp">25Â°C</div>
                <div class="weather-desc">æ™´æœ—</div>
            </div>
        </div>
        
        <div class="weather-details">
            <div class="weather-detail-item">
                <span class="weather-detail-label">æ¹¿åº¦</span>
                <span class="weather-detail-value">65%</span>
            </div>
            <div class="weather-detail-item">
                <span class="weather-detail-label">é£é€Ÿ</span>
                <span class="weather-detail-value">3.5 m/s</span>
            </div>
            <div class="weather-detail-item">
                <span class="weather-detail-label">æ°”å‹</span>
                <span class="weather-detail-value">1013 hPa</span>
            </div>
            <div class="weather-detail-item">
                <span class="weather-detail-label">èƒ½è§åº¦</span>
                <span class="weather-detail-value">10 km</span>
            </div>
        </div>
        
        <div class="weather-forecast">
            <div class="forecast-day">
                <span class="forecast-date">ä»Šå¤©</span>
                <span class="forecast-icon"><i class="fas fa-sun"></i></span>
                <span class="forecast-temp">25Â°C</span>
            </div>
            <div class="forecast-day">
                <span class="forecast-date">æ˜å¤©</span>
                <span class="forecast-icon"><i class="fas fa-cloud"></i></span>
                <span class="forecast-temp">23Â°C</span>
            </div>
            <div class="forecast-day">
                <span class="forecast-date">åå¤©</span>
                <span class="forecast-icon"><i class="fas fa-cloud-sun-rain"></i></span>
                <span class="forecast-temp">22Â°C</span>
            </div>
        </div>
    </div>
</div>

<style scoped>
    /* å¤©æ°”å°éƒ¨ä»¶æ ·å¼ */
    .weather-widget {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 10px;
        padding: 20px;
        color: white;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        max-width: 400px;
        margin: 0 auto;
    }
    
    .weather-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
    }
    
    .weather-title {
        margin: 0;
        font-size: 1.2rem;
        font-weight: 600;
    }
    
    .weather-location-selector select {
        background: rgba(255, 255, 255, 0.2);
        border: none;
        border-radius: 5px;
        padding: 5px 10px;
        color: white;
        font-size: 0.9rem;
        cursor: pointer;
    }
    
    .weather-location-selector select option {
        background-color: #667eea;
        color: white;
    }
    
    .weather-content {
        text-align: center;
    }
    
    .weather-main {
        display: flex;
        justify-content: center;
        align-items: center;
        margin-bottom: 20px;
    }
    
    .weather-icon {
        font-size: 4rem;
        margin-right: 20px;
        opacity: 0.9;
    }
    
    .weather-info {
        text-align: left;
    }
    
    .weather-temp {
        font-size: 2.5rem;
        font-weight: 300;
        margin-bottom: 5px;
    }
    
    .weather-desc {
        font-size: 1rem;
        opacity: 0.9;
    }
    
    .weather-details {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
        margin-bottom: 20px;
        padding: 15px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 8px;
    }
    
    .weather-detail-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 0.9rem;
    }
    
    .weather-detail-label {
        opacity: 0.8;
    }
    
    .weather-detail-value {
        font-weight: 500;
    }
    
    .weather-forecast {
        display: flex;
        justify-content: space-between;
        gap: 10px;
    }
    
    .forecast-day {
        flex: 1;
        padding: 10px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 8px;
        transition: background-color 0.3s ease;
    }
    
    .forecast-day:hover {
        background: rgba(255, 255, 255, 0.2);
    }
    
    .forecast-date {
        display: block;
        font-size: 0.8rem;
        opacity: 0.8;
        margin-bottom: 5px;
    }
    
    .forecast-icon {
        display: block;
        font-size: 1.5rem;
        margin: 8px 0;
    }
    
    .forecast-temp {
        display: block;
        font-size: 0.9rem;
        font-weight: 500;
    }
    
    /* å“åº”å¼è®¾è®¡ */
    @media (max-width: 767px) {
        .weather-widget {
            padding: 15px;
        }
        
        .weather-header {
            flex-direction: column;
            gap: 10px;
        }
        
        .weather-main {
            flex-direction: column;
        }
        
        .weather-icon {
            margin-right: 0;
            margin-bottom: 15px;
            font-size: 3rem;
        }
        
        .weather-info {
            text-align: center;
        }
        
        .weather-details {
            grid-template-columns: 1fr;
            gap: 10px;
        }
        
        .weather-forecast {
            flex-direction: column;
        }
    }
    
    /* Font Awesome å›¾æ ‡æ ·å¼æ›¿ä»£ */
    .fas {
        font-family: 'Arial', sans-serif;
        font-weight: bold;
    }
    
    .fas.fa-cloud-sun:before { content: 'â˜ï¸â˜€ï¸'; }
    .fas.fa-sun:before { content: 'â˜€ï¸'; }
    .fas.fa-cloud:before { content: 'â˜ï¸'; }
    .fas.fa-cloud-sun-rain:before { content: 'ğŸŒ¦ï¸'; }
</style>

<script>
    // å¤©æ°”å°éƒ¨ä»¶JavaScriptåŠŸèƒ½
    document.addEventListener('DOMContentLoaded', function() {
        // åˆå§‹åŒ–å¤©æ°”å°éƒ¨ä»¶
        initWeatherWidget();
        
        // ç»‘å®šä½ç½®é€‰æ‹©äº‹ä»¶
        bindLocationChange();
        
        // æ·»åŠ åŠ¨ç”»æ•ˆæœ
        addWeatherAnimation();
    });
    
    /**
     * åˆå§‹åŒ–å¤©æ°”å°éƒ¨ä»¶
     */
    function initWeatherWidget() {
        console.log('å¤©æ°”å°éƒ¨ä»¶å·²åˆå§‹åŒ–');
        
        // æ¨¡æ‹Ÿè·å–å½“å‰ä½ç½®çš„å¤©æ°”æ•°æ®
        const defaultLocation = document.getElementById('weather-location').value;
        updateWeatherData(defaultLocation);
    }
    
    /**
     * ç»‘å®šä½ç½®å˜åŒ–äº‹ä»¶
     */
    function bindLocationChange() {
        const locationSelect = document.getElementById('weather-location');
        if (locationSelect) {
            locationSelect.addEventListener('change', function() {
                const location = this.value;
                updateWeatherData(location);
            });
        }
    }
    
    /**
     * æ›´æ–°å¤©æ°”æ•°æ®
     * @param {string} location - ä½ç½®åç§°
     */
    function updateWeatherData(location) {
        // æ¨¡æ‹Ÿå¤©æ°”æ•°æ®ï¼ˆå®é™…é¡¹ç›®ä¸­åº”ä»å¤©æ°”APIè·å–ï¼‰
        const weatherData = getMockWeatherData(location);
        
        // æ›´æ–°UI
        updateWeatherUI(weatherData);
        
        // æ·»åŠ åŠ è½½åŠ¨ç”»
        const widget = document.querySelector('.weather-widget');
        widget.style.opacity = '0.8';
        
        setTimeout(() => {
            widget.style.opacity = '1';
        }, 300);
    }
    
    /**
     * è·å–æ¨¡æ‹Ÿå¤©æ°”æ•°æ®
     * @param {string} location - ä½ç½®åç§°
     * @returns {Object} å¤©æ°”æ•°æ®å¯¹è±¡
     */
    function getMockWeatherData(location) {
        const weatherDatabase = {
            'meizhou': {
                temp: '25Â°C',
                desc: 'æ™´æœ—',
                icon: 'fa-sun',
                humidity: '65%',
                windSpeed: '3.5 m/s',
                pressure: '1013 hPa',
                visibility: '10 km',
                forecast: [
                    { date: 'ä»Šå¤©', icon: 'fa-sun', temp: '25Â°C' },
                    { date: 'æ˜å¤©', icon: 'fa-cloud', temp: '23Â°C' },
                    { date: 'åå¤©', icon: 'fa-cloud-sun-rain', temp: '22Â°C' }
                ]
            },
            'suzhou': {
                temp: '23Â°C',
                desc: 'å¤šäº‘',
                icon: 'fa-cloud',
                humidity: '70%',
                windSpeed: '2.8 m/s',
                pressure: '1015 hPa',
                visibility: '8 km',
                forecast: [
                    { date: 'ä»Šå¤©', icon: 'fa-cloud', temp: '23Â°C' },
                    { date: 'æ˜å¤©', icon: 'fa-cloud-sun', temp: '24Â°C' },
                    { date: 'åå¤©', icon: 'fa-sun', temp: '26Â°C' }
                ]
            },
            'chengdu': {
                temp: '20Â°C',
                desc: 'å°é›¨',
                icon: 'fa-cloud-sun-rain',
                humidity: '85%',
                windSpeed: '1.5 m/s',
                pressure: '1010 hPa',
                visibility: '5 km',
                forecast: [
                    { date: 'ä»Šå¤©', icon: 'fa-cloud-sun-rain', temp: '20Â°C' },
                    { date: 'æ˜å¤©', icon: 'fa-cloud-sun-rain', temp: '19Â°C' },
                    { date: 'åå¤©', icon: 'fa-cloud', temp: '21Â°C' }
                ]
            },
            'beijing': {
                temp: '28Â°C',
                desc: 'æ™´è½¬å¤šäº‘',
                icon: 'fa-cloud-sun',
                humidity: '45%',
                windSpeed: '4.2 m/s',
                pressure: '1018 hPa',
                visibility: '12 km',
                forecast: [
                    { date: 'ä»Šå¤©', icon: 'fa-cloud-sun', temp: '28Â°C' },
                    { date: 'æ˜å¤©', icon: 'fa-sun', temp: '30Â°C' },
                    { date: 'åå¤©', icon: 'fa-cloud', temp: '27Â°C' }
                ]
            },
            'shanghai': {
                temp: '26Â°C',
                desc: 'å¤šäº‘è½¬æ™´',
                icon: 'fa-cloud-sun',
                humidity: '60%',
                windSpeed: '3.0 m/s',
                pressure: '1014 hPa',
                visibility: '9 km',
                forecast: [
                    { date: 'ä»Šå¤©', icon: 'fa-cloud-sun', temp: '26Â°C' },
                    { date: 'æ˜å¤©', icon: 'fa-sun', temp: '28Â°C' },
                    { date: 'åå¤©', icon: 'fa-sun', temp: '29Â°C' }
                ]
            }
        };
        
        return weatherDatabase[location] || weatherDatabase['meizhou'];
    }
    
    /**
     * æ›´æ–°å¤©æ°”UI
     * @param {Object} weatherData - å¤©æ°”æ•°æ®
     */
    function updateWeatherUI(weatherData) {
        // æ›´æ–°ä¸»è¦å¤©æ°”ä¿¡æ¯
        const weatherIcon = document.querySelector('.weather-icon i');
        const weatherTemp = document.querySelector('.weather-temp');
        const weatherDesc = document.querySelector('.weather-desc');
        
        if (weatherIcon && weatherTemp && weatherDesc) {
            // ç§»é™¤æ—§å›¾æ ‡ç±»
            weatherIcon.className = '';
            // æ·»åŠ æ–°å›¾æ ‡ç±»
            weatherIcon.className = `fas ${weatherData.icon}`;
            // æ›´æ–°æ¸©åº¦å’Œæè¿°
            weatherTemp.textContent = weatherData.temp;
            weatherDesc.textContent = weatherData.desc;
        }
        
        // æ›´æ–°å¤©æ°”è¯¦æƒ…
        const detailLabels = document.querySelectorAll('.weather-detail-label');
        const detailValues = document.querySelectorAll('.weather-detail-value');
        
        if (detailLabels.length >= 4 && detailValues.length >= 4) {
            detailValues[0].textContent = weatherData.humidity;
            detailValues[1].textContent = weatherData.windSpeed;
            detailValues[2].textContent = weatherData.pressure;
            detailValues[3].textContent = weatherData.visibility;
        }
        
        // æ›´æ–°å¤©æ°”é¢„æŠ¥
        const forecastDays = document.querySelectorAll('.forecast-day');
        
        weatherData.forecast.forEach((forecast, index) => {
            if (forecastDays[index]) {
                const dateEl = forecastDays[index].querySelector('.forecast-date');
                const iconEl = forecastDays[index].querySelector('.forecast-icon i');
                const tempEl = forecastDays[index].querySelector('.forecast-temp');
                
                if (dateEl && iconEl && tempEl) {
                    dateEl.textContent = forecast.date;
                    iconEl.className = '';
                    iconEl.className = `fas ${forecast.icon}`;
                    tempEl.textContent = forecast.temp;
                }
            }
        });
    }
    
    /**
     * æ·»åŠ å¤©æ°”åŠ¨ç”»æ•ˆæœ
     */
    function addWeatherAnimation() {
        const widget = document.querySelector('.weather-widget');
        
        // æ·»åŠ æ‚¬åœæ•ˆæœ
        widget.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-5px)';
            this.style.boxShadow = '0 8px 25px rgba(0, 0, 0, 0.2)';
        });
        
        widget.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
            this.style.boxShadow = '0 4px 15px rgba(0, 0, 0, 0.1)';
        });
        
        // æ·»åŠ è¿‡æ¸¡æ•ˆæœ
        widget.style.transition = 'transform 0.3s ease, box-shadow 0.3s ease';
    }
</script>